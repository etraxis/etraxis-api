//----------------------------------------------------------------------
//
//  Copyright (C) 2018 Artem Rodygin
//
//  This file is part of eTraxis.
//
//  You should have received a copy of the GNU General Public License
//  along with eTraxis. If not, see <http://www.gnu.org/licenses/>.
//
//----------------------------------------------------------------------

@import "mixins";

:root {
    // Common widget variables.
    --placeholder: initial;

    // Generic widget.
    --widget-background: initial;
    --widget-border: initial;
    --widget-disabled-opacity: initial;
    --widget-focus: initial;
    --widget-radius: initial;
    --widget-text: initial;
}

// Label.
label,
p.label {
    color: var(--widget-text);
    display: inline-block;
    max-width: 100%;
    overflow: hidden;
    padding: 5px 0;
    text-overflow: ellipsis;
    white-space: nowrap;

    &[aria-disabled="true"],
    &.disabled {
        opacity: var(--widget-disabled-opacity);
    }
}

:disabled {
    label {
        opacity: var(--widget-disabled-opacity);
    }
}

// Inputs.
%_input {
    @include focus(var(--widget-focus));
    background-color: var(--widget-background);
    border: 1px solid var(--widget-border);
    border-radius: var(--widget-radius);
    color: var(--widget-text);
    padding: 6px;

    &::placeholder {
        color: var(--placeholder);
    }

    // Edge.
    &::-webkit-input-placeholder {
        color: var(--placeholder);
    }

    // Internet Explorer.
    &:-ms-input-placeholder {
        color: var(--placeholder);
    }

    &:disabled {
        opacity: var(--widget-disabled-opacity);

        &::placeholder {
            color: var(--widget-background);
        }

        // Edge.
        &::-webkit-input-placeholder {
            color: var(--widget-background);
        }

        // Internet Explorer.
        &:-ms-input-placeholder {
            color: var(--widget-background);
        }
    }
}

input[type="date"],
input[type="email"],
input[type="password"],
input[type="text"] {
    @extend %_input;
}

input[type="date"] {
    padding-top: 3.25px;
    padding-bottom: 3.25px;
}

// Textarea.
textarea {
    @extend %_input;
    min-height: 29px;
    resize: vertical;
}

// Checkboxes & radios.
input[type="checkbox"],
input[type="radio"] {
    height: 13px;
    outline: none;
    position: relative;
    width: 13px;

    @include ltr {
        margin-left: 1px;
        margin-right: 5px;
    }

    @include rtl {
        margin-left: 5px;
        margin-right: 1px;
    }

    &:before {
        align-items: center;
        background-color: var(--widget-background);
        border: 1px solid var(--widget-border);
        border-radius: 2px;
        color: var(--widget-text);
        content: '';
        display: flex;
        height: 13px;
        position: absolute;
        top: 0;
        justify-content: center;
        width: 13px;

        @include ltr {
            left: 0;
        }

        @include rtl {
            right: 0;
        }
    }

    &:disabled {
        &:before {
            opacity: var(--widget-disabled-opacity);
        }
    }

    &:focus {
        &:before {
            border: 1px solid var(--widget-focus);
            box-shadow: 0 0 2px var(--widget-focus);
        }
    }

    &[type="checkbox"] {

        &:checked {
            &:before {
                content: '\2714';
            }
        }
    }

    &[type="radio"] {

        &:before {
            border-radius: 7px;
        }

        &:checked {
            &:after {
                background-color: var(--widget-text);
                border-radius: 3px;
                content: '';
                height: 5px;
                position: absolute;
                top: 4px;
                width: 5px;

                @include ltr {
                    left: 4px;
                }

                @include rtl {
                    right: 4px;
                }
            }
        }

        &:disabled {
            &:after {
                opacity: var(--widget-disabled-opacity);
            }
        }
    }
}

// Dropdown.
select {
    @extend %_input;
    padding: 5px 4px;
}
